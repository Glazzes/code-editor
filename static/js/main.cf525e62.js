(()=>{var e={9898:(e,t,n)=>{var a={"./bash.png":7426,"./golang.png":6254,"./java.png":1263,"./javascript.png":5923,"./python.png":9661};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=9898},1696:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var a=n(885),r=n(9526),o=n(4333),i=n(1133),l=n(2982),s=n(6459),u=n(2262),d=n(5861),c=n(3415),f=n(9233),g=n(4637),h=new(n(666).EventEmitter),b=n(7557),m=o.default.create({root:{height:38,maxWidth:200,paddingHorizontal:8,borderRadius:5,flexDirection:"row",justifyContent:"center",alignItems:"center",gap:8},rootActive:{borderWidth:.5,borderColor:"#212121",backgroundColor:"#2f2f2f"},indicator:{width:10,height:10,borderRadius:5},active:{backgroundColor:"#33c498"},incative:{backgroundColor:"#a9a9a9"},text:{color:"white",fontFamily:"Medium"}});const v=function(e){var t=e.index,n=e.tab,a=e.activeTabId,r=n.id==a;return(0,b.jsxs)(g.default,{onPress:function(){a!=n.id&&h.emit("active-tab",n)},style:[m.root,r?m.rootActive:null],children:[(0,b.jsx)(i.default,{style:[m.indicator,r?m.active:m.incative]}),(0,b.jsx)(f.default,{style:m.text,numberOfLines:1,ellipsizeMode:"tail",children:n.name}),(0,b.jsx)(g.default,{onPress:function(){h.emit("delete-tab",n,t)},children:(0,b.jsx)(c.default,{name:"close",size:16,color:"#f2f4f5"})})]})};var p=n(5125),x=n(4755),y=n(6625),j=n(8996),w=n(3751),S=n(1968),C=n(1019),T=(0,r.createContext)({});const _=function(e){var t=e.children,n=(0,r.useState)(!1),o=(0,a.default)(n,2),i=o[0],l=o[1];return(0,b.jsx)(T.Provider,{value:[i,l],children:t})};var k=n(6990),O=p.default(g.default),I=o.default.create({statusbar:{width:"100%",height:50,paddingHorizontal:8,backgroundColor:"#181818",flexDirection:"row",alignItems:"center",gap:8},tabContainer:{flex:1,flexDirection:"row",gap:8,overflow:"scroll"},newTab:{height:38,width:38,borderRadius:5,borderWidth:1,borderColor:"#212121",backgroundColor:"#2f2f2f",justifyContent:"center",alignItems:"center"},run:{height:38,borderRadius:5,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,gap:16},runEnabled:{backgroundColor:"#2c55fb"},runDisabled:{backgroundColor:"#f3f3f4"},runText:{color:"#fff",fontFamily:"Bold"},runTextDisabled:{color:"#c4c4ca",fontFamily:"Bold"}});const z=function(e){var t=e.tabs,n=e.activeTab,o=(0,r.useContext)(T),l=(0,a.default)(o,2),s=l[0],u=l[1],g=(0,C.default)().width,m=(0,x.useSharedValue)(0),p=(0,k.useAnimatedRef)(),_=(0,k.useAnimatedRef)(),z=(0,y.useAnimatedStyle)(function(){var e=function(){return{width:m.value}};return e._closure={tabsWidth:m},e.asString="function _f(){const{tabsWidth}=jsThis._closure;{return{width:tabsWidth.value};}}",e.__workletHash=3499258598121,e.__location="/home/glaze/rn-projects/editor/src/Tabs.tsx (28:41)",e.__optimalization=3,e}());(0,j.useAnimatedReaction)(function(){var e=function(){return g};return e._closure={width:g},e.asString="function _f(){const{width}=jsThis._closure;{return width;}}",e.__workletHash=0xb501e5aff16,e.__location="/home/glaze/rn-projects/editor/src/Tabs.tsx (35:4)",e}(),function(){var e=function(e){var t=(0,w.measure)(p),n=(0,w.measure)(_);t&&n&&(m.value=e-t.width-n.width-32)};return e._closure={measure:w.measure,plusRef:p,runRef:_,tabsWidth:m},e.asString="function _f(w){const{measure,plusRef,runRef,tabsWidth}=jsThis._closure;{const plusMeasure=measure(plusRef);const runMeasure=measure(runRef);if(plusMeasure&&runMeasure){tabsWidth.value=w-plusMeasure.width-runMeasure.width-32;}}}",e.__workletHash=0xafdd04427e7,e.__location="/home/glaze/rn-projects/editor/src/Tabs.tsx (36:4)",e}(),[g]);var L=function(){var e=(0,d.default)((function*(){if(!s)try{var e=yield(yield fetch("http://140.238.187.124:5000/api/run",{method:"POST",body:JSON.stringify({language:n.language,code:n.code})})).json();h.emit("display-data",e.Output)}catch(t){console.error(t)}finally{u(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){var e=setTimeout((function(){var e=JSON.stringify(t),a=JSON.stringify(n);localStorage.setItem("tabs",e),localStorage.setItem("last-active-tab",a)}),1e3);return function(){clearTimeout(e)}}),[t,n]),(0,b.jsxs)(i.default,{style:I.statusbar,children:[(0,b.jsx)(O,{ref:p,onPress:function(){h.emit("show-modal")},style:[I.newTab],children:(0,b.jsx)(c.default,{name:"add",color:"#a9a9a9",size:24})}),(0,b.jsx)(S.default,{style:[z,I.tabContainer],children:t.map((function(e,t){return(0,b.jsx)(v,{index:t,tab:e,activeTabId:n.id},e.id)}))}),(0,b.jsxs)(O,{ref:_,onPress:function(){L(),u(!0),h.emit("display-tab")},style:[I.run,s?I.runDisabled:I.runEnabled],children:[(0,b.jsx)(c.default,{name:"play",size:20,color:s?"#c4c4ca":"#fff"}),(0,b.jsx)(f.default,{style:s?I.runTextDisabled:I.runText,children:"Run"})]})]})};var L=n(9899),M=o.default.create({root:{flex:1,backgroundColor:"#fff",justifyContent:"center",alignItems:"center"},image:{height:44,width:44}});const R=function(e){var t=e.language,a=e.activeLanguage,r=e.setLanguage,o=t===a;return(0,b.jsx)(g.default,{onPress:function(){return r(t)},children:(0,b.jsx)("div",{className:o?"":"greyscale",children:(0,b.jsx)(L.default,{source:n(9898)("./"+(null==t?void 0:t.toLocaleLowerCase())+".png"),style:M.image,resizeMode:"contain"})})})};var E=n(3497),P=n(7441),D=["Java","Javascript","Python","Golang","Bash"],N=o.default.create({root:{width:290,padding:16,backgroundColor:"#141414",borderRadius:8},title:{color:"#fff",fontFamily:"Bold",fontSize:20,marginBottom:32},label:{color:"#f5f5f5",fontFamily:"Medium",marginBottom:8},input:{height:44,borderRadius:8,fontFamily:"Medium",backgroundColor:"#212121",paddingHorizontal:16,marginBottom:16,color:"#f5f5f5"},languages:{height:44,flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap"},button:{borderRadius:8,justifyContent:"center",alignItems:"center",marginTop:16},disabed:{backgroundColor:"#f2f4f5"},enabled:{backgroundColor:"#355ff0"},buttonText:{padding:16,fontFamily:"Medium"},buttonTextEnable:{color:"#fff"},buttonTextDisabed:{color:"#141414"}});const B=function(){var e=(0,r.useState)(!0),t=(0,a.default)(e,2),n=t[0],o=t[1],l=(0,r.useState)(""),s=(0,a.default)(l,2),u=s[0],d=s[1],c=(0,r.useState)(),m=(0,a.default)(c,2),v=m[0],p=m[1];return(0,r.useEffect)((function(){""!==u&&void 0!=v||o(!0),""!=u&&void 0!=v&&o(!1)}),[u,v]),(0,b.jsxs)(i.default,{style:N.root,children:[(0,b.jsx)(f.default,{style:N.title,children:"Create new tab"}),(0,b.jsx)(f.default,{style:N.label,children:"Tab name"}),(0,b.jsx)(E.default,{onChangeText:function(e){return d(e)},placeholder:"Test",placeholderTextColor:"#737373",style:N.input}),(0,b.jsx)(f.default,{style:N.label,children:"Select a language"}),(0,b.jsx)(i.default,{style:N.languages,children:D.map((function(e,t){return(0,b.jsx)(R,{language:e,activeLanguage:v,setLanguage:p},e+"-"+t)}))}),(0,b.jsx)(g.default,{onPress:function(){if(""!==u&&void 0!=v){var e={id:(0,P.default)(),name:u,code:[],language:null!=v?v:"Java"};h.emit("create-tab",e)}},style:[N.button,n?N.disabed:N.enabled],children:(0,b.jsx)(f.default,{style:[N.buttonText,n?N.buttonTextDisabed:N.buttonTextEnable],children:"let's code"})})]})};var J=n(9316),F=n(5328);function W(e,t){return e+"-"+t}function A(e){return(0,b.jsx)(f.default,{style:H.text,children:e.item})}var H=o.default.create({text:{fontFamily:"Bold",color:"#fff"},content:{paddingVertical:16,paddingHorizontal:16},close:{position:"absolute",top:16,right:16},loading:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#fff"}});const Y=function(){var e=(0,r.useContext)(T),t=(0,a.default)(e,1)[0],n=(0,r.useState)([]),o=(0,a.default)(n,2),l=o[0],s=o[1],u=(0,C.default)().height,d=(0,x.useSharedValue)(0),f=(0,y.useAnimatedStyle)(function(){var e=function(){return{width:"100%",height:u/2,position:"absolute",top:u,transform:[{translateY:d.value}],backgroundColor:"#252525"}};return e._closure={height:u,translateY:d},e.asString='function _f(){const{height,translateY}=jsThis._closure;{return{width:"100%",height:height/2,position:\'absolute\',top:height,transform:[{translateY:translateY.value}],backgroundColor:"#252525"};}}',e.__workletHash=0xe44fdb74021,e.__location="/home/glaze/rn-projects/editor/src/RunResult.tsx (35:42)",e.__optimalization=3,e}());return(0,r.useEffect)((function(){var e=h.addListener("display-data",(function(e){s(e)})),t=h.addListener("display-tab",(function(){d.value=(0,J.withTiming)(-1*u/2,{duration:300})}));return function(){e.remove(),t.remove()}}),[]),(0,b.jsxs)(S.default,{style:[{transform:[{translateY:u}]},f],children:[t?(0,b.jsx)(i.default,{style:H.loading}):(0,b.jsx)(F.default,{style:{flex:1},contentContainerStyle:H.content,data:l,keyExtractor:W,renderItem:A}),(0,b.jsx)(g.default,{onPress:function(){d.value=(0,J.withTiming)(0,{duration:300})},style:H.close,children:(0,b.jsx)(c.default,{name:"close",size:24,color:"#fff"})})]})};n(9956),n(6093),n(1143),n(2857),n(8091),n(702),n(2332),n(884),n(6253),n(4317),n(8339);var V=o.default.create({root:{flex:1,backgroundColor:"#fff",justifyContent:"center",alignItems:"center",overflow:"hidden"},newTab:{position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"}});const U=function(e){var t,n;(0,s.default)(e);var o=(0,C.default)(),d=o.width,c=o.height,f=(0,r.useState)([]),g=(0,a.default)(f,2),m=g[0],v=g[1],p=(0,r.useState)(),x=(0,a.default)(p,2),y=x[0],j=x[1],w=(0,r.useState)(!0),S=(0,a.default)(w,2),T=S[0],_=S[1],k=function(){var e=JSON.stringify(m),t=JSON.stringify(y);localStorage.setItem("tabs",e),localStorage.setItem("active-tab",t)};return(0,r.useEffect)((function(){var e=localStorage.getItem("tabs"),t=localStorage.getItem("active-tab");if("undefined"!==t&&void 0!=e&&void 0!=t){console.log(e,t);var n=JSON.parse(e),a=JSON.parse(t);v(n),j(a),_(!1)}}),[]),(0,r.useEffect)((function(){var e=h.addListener("active-tab",(function(e){j(e),localStorage.setItem("active-tab",JSON.stringify(e))})),t=h.addListener("create-tab",(function(e){v((function(t){return[].concat((0,l.default)(t),[e])})),j(e),_(!1),localStorage.setItem("active-tab",JSON.stringify(e))})),n=h.addListener("show-modal",(function(){return _(!0)}));return function(){e.remove(),t.remove(),n.remove()}}),[]),(0,r.useEffect)((function(){var e=h.addListener("delete-tab",(function(t,n){var a,r=n===m.length-1,o=(null==y?void 0:y.id)==t.id;return 0===n&&1===m.length&&(localStorage.clear(),h.emit("show-modal")),r&&o&&(a=m[n-1],h.emit("active-tab",m[n-1])),!r&&o&&(a=m[n+1],h.emit("active-tab",m[n+1])),a&&j(a),v((function(e){return e.filter((function(e){return e.id!=t.id}))})),function(){return e.remove()}}),[m,y]);return function(){e.remove()}}),[m,y]),(0,b.jsxs)(i.default,{style:V.root,children:[(0,b.jsx)(z,{tabs:m,activeTab:y}),(0,b.jsx)(i.default,{style:{flex:1},children:(0,b.jsx)(u.default,{mode:null!=(t=null==y?void 0:y.language.toLocaleLowerCase())?t:"java",theme:"cloud9_night",tabSize:4,value:null!=(n=null==y?void 0:y.code.join("\n"))?n:"",onChange:function(e){j((function(t){return void 0!==t&&(t.code=e.split("\n")),t})),k()},placeholder:"Let's write some awesome code, then hit the run button!",focus:!0,showPrintMargin:!1,style:{flex:1,width:d,paddingTop:16,paddingBottom:16},setOptions:{enableLiveAutocompletion:!0,enableBasicAutocompletion:!0,showLineNumbers:!0,fontSize:18,animatedScroll:!0,newLineMode:!0,wrap:!0}})}),(0,b.jsx)(Y,{}),T?(0,b.jsx)(i.default,{style:[V.newTab,{width:d,height:c}],children:(0,b.jsx)(B,{})}):null]})};var G=n(8083);function q(){var e=(0,G.useFonts)({Bold:n(474),Medium:n(9049)});return(0,a.default)(e,1)[0]?(0,b.jsx)(i.default,{style:K.container,children:(0,b.jsx)(_,{children:(0,b.jsx)(U,{})})}):null}var K=o.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},474:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Bold.e4f33c213728ecf55b57.ttf"},9049:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Medium.9d1fd4235eeb376c5f96.ttf"},7426:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bash.e2ebf7b3b1c6fd28941e.png"},6254:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/golang.dc5f85030779d0ca7c8c.png"},1263:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/java.6c64373d3b7415758078.png"},5923:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/javascript.48edf8842790d0f2b340.png"},9661:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/python.52d7bb207f9868b90e39.png"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},(()=>{var e=[];n.O=(t,a,r,o)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,r,o]=e[d],l=!0,s=0;s<a.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/code-editor/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,o,[i,l,s]=a,u=0;if(i.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(s)var d=s(n)}for(t&&t(a);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self.webpackChunkweb=self.webpackChunkweb||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[98],(()=>n(9484)));a=n.O(a)})();
//# sourceMappingURL=main.cf525e62.js.map